# 健康管理システム - 要件定義書

## プロジェクト概要
Laravel、Vue.js、SQLite、Tailwind CSSを活用した生徒の健康管理システムを開発する。

## 目的
- 教育機関での生徒の健康情報を一元管理
- 生徒情報と健康診断データの効率的な管理・閲覧
- シンプルで使いやすいインターフェースの提供

## 技術スタック
- **バックエンド**: Laravel（PHP）
- **フロントエンド**: Vue.js
- **データベース**: SQLite
- **CSS**: Tailwind CSS
- **認証**: なし（認証機能は不要）

## 機能要件

### 1. 生徒管理機能
- **登録**: 新規生徒の情報を登録
- **編集**: 既存生徒の情報を変更
- **削除**: 生徒情報の削除
- **一覧表示**: 全生徒の一覧を表示
- **詳細表示**: 個別生徒の詳細情報を表示
- **検索**: 名前、ふりがな、生徒ID、出席番号、クラスでの検索

### 2. 健康診断情報管理機能
- **入力**: 生徒の健康診断データの入力
- **編集**: 既存健康診断データの変更
- **表示**: 生徒詳細画面での健康診断データ表示

### 3. クラス管理機能
- **表示**: クラス情報の表示
- **関連付け**: 生徒とクラスの関連付け

## データモデル要件

### 1. 生徒（Student）テーブル
| 項目 | 型 | 必須 | 説明 |
|------|-----|------|------|
| id | INTEGER | ○ | 主キー（自動採番）|
| name | VARCHAR(100) | ○ | 氏名 |
| kana | VARCHAR(100) | ○ | ふりがな |
| student_id | VARCHAR(20) | ○ | 生徒ID（ユニーク）|
| student_number | INTEGER | ○ | 出席番号 |
| sex | ENUM('male', 'female') | ○ | 性別 |
| class_id | INTEGER | ○ | クラスID（外部キー）|
| created_at | TIMESTAMP | ○ | 作成日時 |
| updated_at | TIMESTAMP | ○ | 更新日時 |

### 2. クラス（Class）テーブル
| 項目 | 型 | 必須 | 説明 |
|------|-----|------|------|
| id | INTEGER | ○ | 主キー（自動採番）|
| class_id | VARCHAR(10) | ○ | クラスID（ユニーク）|
| class_name | VARCHAR(50) | ○ | クラス名 |
| grade | INTEGER | ○ | 学年 |
| kumi | INTEGER | ○ | 組 |
| year | INTEGER | ○ | 年度 |
| created_at | TIMESTAMP | ○ | 作成日時 |
| updated_at | TIMESTAMP | ○ | 更新日時 |

### 3. 健康記録（HealthRecord）テーブル
| 項目 | 型 | 必須 | 説明 |
|------|-----|------|------|
| id | INTEGER | ○ | 主キー（自動採番）|
| student_id | INTEGER | ○ | 生徒ID（外部キー）|
| year | INTEGER | ○ | 年度 |
| height | DECIMAL(5,2) | × | 身長（cm）|
| weight | DECIMAL(5,2) | × | 体重（kg）|
| created_at | TIMESTAMP | ○ | 作成日時 |
| updated_at | TIMESTAMP | ○ | 更新日時 |

## 非機能要件

### 1. パフォーマンス
- ページ読み込み時間：3秒以内
- データ検索応答時間：1秒以内

### 2. ユーザビリティ
- **レスポンシブデザイン**: PC、タブレット、スマートフォンに対応
- **シンプルなUI**: 直感的で使いやすいインターフェース
- **バリデーション**: 適切なエラーメッセージの表示

### 3. 運用・保守
- SQLiteデータベースファイルの適切な管理
- ログ機能による操作履歴の記録

## 制約事項
- ユーザー認証機能は実装しない
- データベースはSQLiteを使用する
- 既存のLaravelプロジェクト環境を活用する

## 成功基準
1. 全ての機能要件が正常に動作する
2. レスポンシブデザインが適切に実装されている
3. データの整合性が保たれている
4. エラーハンドリングが適切に実装されている
5. コードが保守性の高い構造になっている

## 画面構成要件

### 1. 生徒一覧画面
- 検索フォーム
- 生徒一覧テーブル（ページネーション付き）
- 新規登録ボタン

### 2. 生徒詳細画面
- 生徒基本情報表示
- 健康診断履歴表示
- 編集ボタン
- 削除ボタン

### 3. 生徒登録・編集画面
- 生徒情報入力フォーム
- バリデーション機能
- 保存・キャンセルボタン

### 4. 健康診断入力画面
- 健康診断データ入力フォーム
- バリデーション機能
- 保存・キャンセルボタン

## バリデーション要件

### 生徒情報
- 氏名：必須、100文字以内
- ふりがな：必須、100文字以内、ひらがなのみ
- 生徒ID：必須、20文字以内、英数字のみ、重複不可
- 出席番号：必須、整数、正の値
- 性別：必須、male/femaleのいずれか
- クラスID：必須、存在するクラスIDであること

### 健康診断データ
- 年度：必須、4桁の整数
- 身長：任意、0-300の範囲、小数点以下2桁まで
- 体重：任意、0-200の範囲、小数点以下2桁まで